<template name="afArrayField_materialized">
  <div class="array-section">
    {{#if afFieldIsInvalid name=this.atts.name}}
    <div class="has-error">
      <span class="help-block">{{{afFieldMessage name=this.atts.name}}}</span>
    </div>
    {{/if}}
    <ul class="list-group">
      {{#afEachArrayItem name=this.atts.name minCount=this.atts.minCount maxCount=this.atts.maxCount}}
      <li class="list-group-item section">
        <p>
          <h5 class="u-inline-block">
            {{#with afFieldLabelText name=../atts.name}}{{this}}{{/with}}
          </h5>
          {{#if afArrayFieldHasMoreThanMinimum name=../atts.name minCount=../atts.minCount maxCount=../atts.maxCount}}
          <a type="a" class="right btn-floating waves-effect red autoform-remove-item">
            <i class="material-icons">remove</i>
          </a>
          {{/if}}
        </p>
        {{> afQuickField name=this.name label=true options=afOptionsFromSchema}}
      </li>
      {{/afEachArrayItem}}
      {{#if afArrayFieldHasLessThanMaximum name=this.atts.name minCount=this.atts.minCount maxCount=this.atts.maxCount}}
      <div class="divider"></div>
      <li class="list-group-item section">
          <a type="a" class="btn waves-effect autoform-add-item" data-autoform-field="{{this.atts.name}}" data-autoform-minCount="{{this.atts.minCount}}" data-autoform-maxCount="{{this.atts.maxCount}}">{{_ "application-add"}} {{#with afFieldLabelText name=this.atts.name}}{{this}}{{/with}}</a>
      </li>
      {{/if}}
    </ul>
  </div>
</template>
